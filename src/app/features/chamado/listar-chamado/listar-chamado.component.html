<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<p-card class="card">
  <div class="p-card-header">
    <div class="p-card-header-container">
      <i class="pi pi-cog"></i>
      <h3 class="fs-5 fs-md-4 fs-lg-3">Listagem Chamados</h3>
    </div>
  </div>

<p-panel>
  <form [formGroup]="form">
    <div class="row g-3">
      <div class="col-12 col-md-3">
        <label for="seqAno" class="form-label">Nº/Ano</label>
        <input type="text" pInputText formControlName="seqAno" class="form-control form-control-lg" />
      </div>

      <div class="col-12 col-md-3">
        <label for="dataInicial" class="form-label">Data Inicial</label>
        <p-calendar
          formControlName="dataInicial"
          [showIcon]="true"
          inputId="dataInicial"
          class="w-100 d-block"
        ></p-calendar>
      </div>

      <div class="col-12 col-md-3">
        <label for="dataFinal" class="form-label">Data Final</label>
        <p-calendar
          formControlName="dataFinal"
          [showIcon]="true"
          inputId="dataFinal"
          class="w-100 d-block"
        ></p-calendar>
      </div>

      <div class="col-12 col-md-3">
        <label for="status" class="form-label">Situação</label>
        <p-dropdown
          class="w-100 d-block"
          [options]="status"
          optionLabel="nome"
          optionValue="codigo"
          placeholder="Selecione o Status"
          formControlName="statusSelecionado"
        ></p-dropdown>
      </div>
    </div>
  </form>
</p-panel>



  <div class="d-flex col-12 justify-content-end m-3 ms-0">
    <fa-icon
      [icon]="faPlus"
      class="me-3 text-primary fs-2 pointer"
      routerLink="/manter-chamado"
        (click)="abrirModalChamado()"
    ></fa-icon>

    <fa-icon
      [icon]="faSearch"
      class="ms-3 text-secondary fs-2 pointer"
      (click)="carregarChamados()"
    ></fa-icon>
  </div>

  <app-table
    [cols]="colsTable"
    [registros]="chamados"
    [totalRecords]="10"
    (itemSelecionado)="onItemSelecionado($event)"
    (onExcluir)="excluirRegistro($event)"
    (onEditar)="editarChamado($event)"
  ></app-table>
</p-card>

  <div class="card flex justify-content-center">
    <p-dialog
      [modal]="true"
      [(visible)]="mostrarModal"
      [style]="{width: '80vw'}"
      >
      

      <app-manter-chamado *ngIf="mostrarModal"></app-manter-chamado>
    </p-dialog>
  </div>

